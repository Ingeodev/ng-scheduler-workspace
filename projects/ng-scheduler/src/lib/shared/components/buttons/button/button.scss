@use '../../../../styles/variables' as vars;
@use '../../../../styles/mixins' as mixins;

:host {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  position: relative;
  box-sizing: border-box;
  min-width: 64px;
  border: none;
  outline: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  vertical-align: middle;
  background: transparent; // Default
  text-decoration: none;
  font-family: var(--mglon-schedule-font-family);
  font-weight: 500;
  cursor: pointer;
  transition: background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),
    color 200ms cubic-bezier(0.4, 0, 0.2, 1);

  // Default theme variables (can be overridden)
  --btn-radius: var(--mglon-schedule-radius-md);

  // Sizes
  &.size-sm {
    height: 32px;
    padding: 0 12px;
    font-size: var(--mglon-schedule-font-size-sm);
    --btn-radius: var(--mglon-schedule-radius-sm);
  }

  &.size-md {
    height: 40px;
    padding: 0 16px;
    font-size: var(--mglon-schedule-font-size-md);
  }

  &.size-lg {
    height: 48px;
    padding: 0 24px;
    font-size: var(--mglon-schedule-font-size-lg);
    --btn-radius: var(--mglon-schedule-radius-lg);
  }

  border-radius: var(--btn-radius);

  // Disabled State
  &:disabled,
  &[disabled] {
    cursor: default;
    pointer-events: none;
    opacity: 0.38;
    box-shadow: none !important;
  }
}

// Variants & Colors
:host(.variant-filled) {
  @include mixins.elevation-sm;

  &:hover {
    @include mixins.elevation-md;
  }

  &.color-primary {
    background-color: var(--mglon-schedule-primary);
    color: var(--mglon-schedule-on-primary);

    &:hover {
      // Lighten slightly for hover visual
      opacity: 0.92;
    }
  }

  &.color-secondary {
    background-color: var(--mglon-schedule-text-secondary); // Example
    color: white;
  }

  &.color-error {
    background-color: #d32f2f;
    color: white;
  }
}

:host(.variant-outlined) {
  border: 1px solid var(--mglon-schedule-border);
  background-color: transparent;

  &.color-primary {
    color: var(--mglon-schedule-primary);
    border-color: var(--mglon-schedule-primary);

    &:hover {
      background-color: rgba(26, 115, 232, 0.04); // Primary with low opacity
    }
  }
}

:host(.variant-text) {
  background-color: transparent;
  //min-width: auto; // Remove to respect 64px min-width if desired by "respect sizes", or keep if text usually flows? 
  // User said "respect the sizes of the button". Usually implies height/padding consistency.
  // Standard Text buttons often have less padding, but let's align with user request.
  // Removing padding override allows size-* classes to apply.

  &.color-primary {
    color: var(--mglon-schedule-primary);

    &:hover {
      background-color: rgba(26, 115, 232, 0.04);
    }
  }

  &.color-secondary {
    color: var(--mglon-schedule-text-secondary);
  }
}

:host(.variant-tonal) {
  &.color-primary {
    background-color: var(--mglon-schedule-selection);
    color: var(--mglon-schedule-primary);

    &:hover {
      filter: brightness(0.95);
    }
  }
}